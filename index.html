<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Commodore 64 Boot Screen Editor</title>
  <meta name="description" content="Edit the text and color of Commodore 64 kernel ROMs">
  <meta name="author" content="John Cook">
  <meta name="theme-color" content="#0088FF">
  
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-72x72.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192x192.png">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192x192.png">
  <link rel="stylesheet" href="css/kernel-stamper.css">
</head>

<body>
	<script type="module" src="js/app.js"></script>

	<div class="container">
		<header class="header">
			<h1>
				<svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<rect x="2" y="3" width="20" height="14" rx="2"></rect>
					<line x1="8" y1="21" x2="16" y2="21"></line>
					<line x1="12" y1="17" x2="12" y2="21"></line>
				</svg>
				C64 Kernel Stamper
			</h1>
			<p class="subtitle">Customize your Commodore 64 boot screen</p>
		</header>

		<div class="main-content">
			<section class="upload-section card">
				<div class="upload-grid">
					<div id="rom-browser" class="rom-browser">
						<h3 class="browser-title">
							<svg class="browser-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
							</svg>
							Your ROM Files
						</h3>
						<div id="rom-list" class="rom-list">
							<p class="empty-state">No ROM files uploaded yet</p>
						</div>
					</div>
					
					<div class="upload-area">
					<input type="file" id="file-input" accept=".bin,.rom">
						<label for="file-input" class="upload-label">
							<svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
								<polyline points="17 8 12 3 7 8"></polyline>
								<line x1="12" y1="3" x2="12" y2="15"></line>
							</svg>
							<span class="upload-text">Drop ROM file here</span>
							<span class="upload-hint">or</span>
						<button type="button" class="upload-button" id="upload-button">
								<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
									<polyline points="17 8 12 3 7 8"></polyline>
									<line x1="12" y1="3" x2="12" y2="15"></line>
								</svg>
								Choose File
							</button>
						</label>
					</div>
				</div>
			</section>

			<div class="editor-grid">
				<section class="preview-section card">
					<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
						<h2 class="section-title" style="margin-bottom: 0;">Preview</h2>
						<button id="debug-whitespace-btn" class="debug-btn" title="Toggle whitespace visibility">
							<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
								<circle cx="12" cy="12" r="1"></circle>
								<circle cx="6" cy="12" r="1"></circle>
								<circle cx="18" cy="12" r="1"></circle>
							</svg>
							Debug
						</button>
					</div>
					<div id="c64-screen">
						<pre id="c64-screen-text">

  **** COMMODORE 64 KERNEL STAMPER ****

 UPLOAD KERNEL ROM FILE ↑ TO GET STARTED

READY.
█</pre>
					</div>
				</section>

				<section class="controls-section card">
					<div class="controls-header">
						<h2 class="section-title">Configuration</h2>
						<div class="history-controls">
							<span id="history-info" class="history-info">0 changes</span>
							<button id="undo-btn" class="history-btn" title="Undo (Ctrl+Z)" disabled>
								<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M3 7v6h6"></path>
									<path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"></path>
								</svg>
							</button>
							<button id="redo-btn" class="history-btn" title="Redo (Ctrl+Y)" disabled>
								<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M21 7v6h-6"></path>
									<path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7"></path>
								</svg>
							</button>
						</div>
					</div>
					
					<div class="form-group">
						<label for="rom-line-1" class="form-label">Line 1</label>
						<input type="text" id="rom-line-1" class="form-input" placeholder="First line of boot text" maxlength="40">
					</div>
					
					<div class="form-group">
						<label for="rom-line-2" class="form-label">Line 2</label>
						<input type="text" id="rom-line-2" class="form-input" placeholder="Second line of boot text" maxlength="17">
					</div>

					<div class="color-group">
						<label id="border-color-label" class="form-label">Border Color</label>
						<div class="color-palette" role="radiogroup" aria-labelledby="border-color-label">
							<button class="color-swatch" data-color="black" style="background-color: #000000;" title="Black" aria-label="Black border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-1" style="background-color: #333333;" title="Dark Gray" aria-label="Dark Gray border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-2" style="background-color: #777777;" title="Gray" aria-label="Gray border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-3" style="background-color: #BBBBBB;" title="Light Gray" aria-label="Light Gray border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="white" style="background-color: #FFFFFF;" title="White" aria-label="White border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="cyan" style="background-color: #AAFFEE;" title="Cyan" aria-label="Cyan border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-blue" style="background-color: #0088FF;" title="Light Blue" aria-label="Light Blue border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="blue" style="background-color: #0000AA;" title="Blue" aria-label="Blue border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="purple" style="background-color: #CC44CC;" title="Purple" aria-label="Purple border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="red" style="background-color: #880000;" title="Red" aria-label="Red border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="brown" style="background-color: #664400;" title="Brown" aria-label="Brown border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="orange" style="background-color: #DD8855;" title="Orange" aria-label="Orange border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-red" style="background-color: #FF7777;" title="Light Red" aria-label="Light Red border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="green" style="background-color: #00CC55;" title="Green" aria-label="Green border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-green" style="background-color: #AAFF66;" title="Light Green" aria-label="Light Green border color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="yellow" style="background-color: #EEEE77;" title="Yellow" aria-label="Yellow border color" aria-pressed="false" role="radio"></button>
						</div>
					</div>

					<div class="color-group">
						<label id="background-color-label" class="form-label">Background Color</label>
						<div class="color-palette" role="radiogroup" aria-labelledby="background-color-label">
							<button class="color-swatch" data-color="black" style="background-color: #000000;" title="Black" aria-label="Black background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-1" style="background-color: #333333;" title="Dark Gray" aria-label="Dark Gray background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-2" style="background-color: #777777;" title="Gray" aria-label="Gray background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-3" style="background-color: #BBBBBB;" title="Light Gray" aria-label="Light Gray background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="white" style="background-color: #FFFFFF;" title="White" aria-label="White background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="cyan" style="background-color: #AAFFEE;" title="Cyan" aria-label="Cyan background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-blue" style="background-color: #0088FF;" title="Light Blue" aria-label="Light Blue background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="blue" style="background-color: #0000AA;" title="Blue" aria-label="Blue background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="purple" style="background-color: #CC44CC;" title="Purple" aria-label="Purple background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="red" style="background-color: #880000;" title="Red" aria-label="Red background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="brown" style="background-color: #664400;" title="Brown" aria-label="Brown background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="orange" style="background-color: #DD8855;" title="Orange" aria-label="Orange background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-red" style="background-color: #FF7777;" title="Light Red" aria-label="Light Red background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="green" style="background-color: #00CC55;" title="Green" aria-label="Green background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-green" style="background-color: #AAFF66;" title="Light Green" aria-label="Light Green background color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="yellow" style="background-color: #EEEE77;" title="Yellow" aria-label="Yellow background color" aria-pressed="false" role="radio"></button>
						</div>
					</div>

					<div class="color-group">
						<label id="text-color-label" class="form-label">Text Color</label>
						<div class="color-palette" role="radiogroup" aria-labelledby="text-color-label">
							<button class="color-swatch" data-color="black" style="background-color: #000000;" title="Black" aria-label="Black text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-1" style="background-color: #333333;" title="Dark Gray" aria-label="Dark Gray text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-2" style="background-color: #777777;" title="Gray" aria-label="Gray text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="gray-3" style="background-color: #BBBBBB;" title="Light Gray" aria-label="Light Gray text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="white" style="background-color: #FFFFFF;" title="White" aria-label="White text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="cyan" style="background-color: #AAFFEE;" title="Cyan" aria-label="Cyan text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-blue" style="background-color: #0088FF;" title="Light Blue" aria-label="Light Blue text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="blue" style="background-color: #0000AA;" title="Blue" aria-label="Blue text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="purple" style="background-color: #CC44CC;" title="Purple" aria-label="Purple text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="red" style="background-color: #880000;" title="Red" aria-label="Red text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="brown" style="background-color: #664400;" title="Brown" aria-label="Brown text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="orange" style="background-color: #DD8855;" title="Orange" aria-label="Orange text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-red" style="background-color: #FF7777;" title="Light Red" aria-label="Light Red text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="green" style="background-color: #00CC55;" title="Green" aria-label="Green text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="light-green" style="background-color: #AAFF66;" title="Light Green" aria-label="Light Green text color" aria-pressed="false" role="radio"></button>
							<button class="color-swatch" data-color="yellow" style="background-color: #EEEE77;" title="Yellow" aria-label="Yellow text color" aria-pressed="false" role="radio"></button>
						</div>
					</div>
					
					<button id="save-changes-btn" class="save-changes-btn" title="Save changes to ROM">
						<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
							<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
							<polyline points="17 21 17 13 7 13 7 21"></polyline>
							<polyline points="7 3 7 8 15 8"></polyline>
						</svg>
						Save Changes
					</button>
				</section>
			</div>
		</div>

		<footer class="footer">
			<p>Made with ❤️ for retro computing enthusiasts</p>		<p>
			<a href="https://github.com/johncook/c64-kernel-stamper" target="_blank" rel="noopener noreferrer">
				<svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" style="vertical-align: middle; margin-right: 4px;">
					<path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
				</svg>
				View on GitHub
			</a>
		</p>		</footer>
	</div>
</body>
</html>